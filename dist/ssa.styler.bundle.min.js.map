{"version":3,"sources":["webpack://ssa.styler.bundle/webpack/universalModuleDefinition","webpack://ssa.styler.bundle/webpack/bootstrap","webpack://ssa.styler.bundle/./node_modules/rgba-convert/index.js","webpack://ssa.styler.bundle/./src/styling.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","arr","data","a","parse","length","concat","Math","round","str","toLowerCase","replace","hex2num","g","b","isNaN","hex3","slice","hex6","substr","t","match","split","map","Number","getnum","rgb","rgba","obj","toString","getPrototypeOf","undefined","red","green","blue","alpha","Array","isArray","array","num","floor","number","num2hex","parseInt","val","integer","css","push","String","hex","opaque","is","h","indexOf","isshort","charAt","_defaultPrimary","_defaultSecondary","styleFormat","processColor","defaults","rgbaColor","convertedRgba","toUpperCase","reduce","acc","char","getSsaColor","getInteger","isInteger","buildStyle","styleName","alignAttr","outline","background","font","fontsize","color","bold","italic","marginH","marginV","assign","valid","Name","BorderStyle","Shadow","AlphaLevel","Encoding","MarginL","MarginR","MarginV","Fontname","fontStr","getFont","PrimaryColour","SecondaryColour","TertiaryColour","BackColour","defaultColor","getOutlineOrBackColor","outlineColor","Alignment","topAlign","Fontsize","Bold","Italic","Outline","primaryStyle","secondaryStyle","primary","secondary"],"mappings":"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","file":"ssa.styler.bundle.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ssa.styler.bundle\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ssa.styler.bundle\"] = factory();\n\telse\n\t\troot[\"ssa.styler.bundle\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","\nmodule.exports     = arr\nmodule.exports.arr = arr\nmodule.exports.obj = obj\nmodule.exports.css = css\nmodule.exports.hex = hex\nmodule.exports.num = num\n\nfunction arr(data) {\n  var a = parse(data)\n  if (a.length == 3) {\n    return a.concat(255)\n  } else {\n    a[3] = Math.round(a[3])\n    return a\n  }\n}\n\nfunction obj(data) {\n  var a = parse(data)\n  return {\n    r: a[0],\n    g: a[1],\n    b: a[2],\n    a: a.length == 3\n      ? 255\n      : Math.round(a[3])\n  }\n}\n\nfunction css(data) {\n  var a = parse(data)\n  if (a.length == 3) a.push(255)\n\n  return a[3] == 255\n    ? 'rgb(' + a[0] + ', ' + a[1] + ', ' + a[2] + ')'\n    : a[3] == 0\n      ? 'rgba(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', 0)'\n      : 'rgba(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + String(a[3] / 255).substr(1) + ')'\n}\n\nfunction hex(data) {\n  var a = parse(data)\n  if (a.length == 3) a.push(255)\n  var opaque = a[3] == 255\n  var r = num2hex(a[0])\n  var g = num2hex(a[1])\n  var b = num2hex(a[2])\n  var a = num2hex(Math.round(a[3]))\n  var is = isshort(r, g, b, a)\n  if (opaque) {\n    return is\n      ? '#' + r.charAt(0) + g.charAt(0) + b.charAt(0)\n      : '#' + r + g + b\n  }\n  return is\n    ? '#' + r.charAt(0) + g.charAt(0) + b.charAt(0) + a.charAt(0)\n    : '#' + r + g + b + a\n}\n\nfunction num(data) {\n  var a = parse(data)\n  if (a.length == 3) a.push(255)\n  else a[3] = Math.round(a[3])\n  return ((a[3] << 24) >>> 0 | a[0] << 16 | a[1] << 8 | a[2]) >>> 0\n}\n\nfunction parse(data) {\n  if (typeof data == 'string') {\n    data = data.toLowerCase()\n    return name(data)\n      || hex3(data)\n      || hex6(data)\n      || rgb(data)\n      || rgba(data)\n      || [0, 0, 0, 255]\n  }\n  return object(data)\n    || array(data)\n    || number(data)\n    || [0, 0, 0, 255]\n}\n\nfunction num2hex(num) {\n  var s = num.toString(16)\n  return s.length == 1\n    ? '0' + s\n    : s\n}\n\nfunction isshort(r, g, b, a) {\n  var h = ['ff', '00', '11', '22', '33', '44', '55', '66',\n           '77', '88', '99', 'aa', 'bb', 'cc', 'dd', 'ee']\n  return h.indexOf(r) != -1\n    && h.indexOf(g) != -1\n    && h.indexOf(b) != -1\n    && h.indexOf(a) != -1\n}\n\nfunction name(str) {\n  if (str == 'red')     return [255, 0, 0]\n  if (str == 'green')   return [0, 255, 0]\n  if (str == 'blue')    return [0, 0, 255]\n  if (str == 'black')   return [0, 0, 0]\n  if (str == 'white')   return [255, 255, 255]\n  if (str == 'cyan')    return [0, 255, 255]\n  if (str == 'gray')    return [128, 128, 128]\n  if (str == 'grey')    return [128, 128, 128]\n  if (str == 'magenta') return [255, 0, 255]\n  // ok, not the real css `pink` but my personal `magenta` alias\n  // `pink` is simpler than `fuchsia`, whatever...\n  if (str == 'pink')    return [255, 0, 255]\n  if (str == 'yellow')  return [255, 255, 0]\n}\n\nfunction hex2num(str) {\n  return str.length == 1\n    ? parseInt(str + str, 16)\n    : parseInt(str, 16)\n}\n\nfunction hex3(str) {\n  var s = str.replace(/^#/,'')\n  var l = s.length\n  if (l == 3 || l == 4) {\n    var r = hex2num(s[0])\n    var g = hex2num(s[1])\n    var b = hex2num(s[2])\n    var a = l == 3\n      ? 255\n      : hex2num(s[3])\n\n    if (isNaN(r) || isNaN(g) || isNaN(b) || isNaN(a)) return\n\n    return [r, g, b, a]\n  }\n}\n\nfunction hex6(str) {\n  var s = str.replace(/^#/,'')\n  var l = s.length\n  if (l == 6 || l == 8) {\n    var r = hex2num(s.slice(0, 2))\n    var g = hex2num(s.slice(2, 4))\n    var b = hex2num(s.slice(4, 6))\n    var a = l == 6\n      ? 255\n      : hex2num(s.slice(6, 8))\n\n    if (isNaN(r) || isNaN(g) || isNaN(b) || isNaN(a)) return\n\n    return [r, g, b, a]\n  }\n}\n\nfunction getnum(val, integer) {\n  if (typeof val != 'number') return -1\n  if (integer === true && Math.floor(val) !== val) return -1\n  return val >= 0 && val <= 255\n    ? val\n    : -1\n}\n\nfunction object(obj) {\n  if (Object.prototype.toString.call(obj) === '[object Object]'\n    && Object.getPrototypeOf(obj) === Object.getPrototypeOf({})) {\n    var r = getnum(obj.r != undefined ? obj.r : obj.red   != undefined ? obj.red   : 0,   true)\n    var g = getnum(obj.g != undefined ? obj.g : obj.green != undefined ? obj.green : 0,   true)\n    var b = getnum(obj.b != undefined ? obj.b : obj.blue  != undefined ? obj.blue  : 0,   true)\n    var a = getnum(obj.a != undefined ? obj.a : obj.alpha != undefined ? obj.alpha : 255, true)\n    if (r != -1 && g != -1 && b != -1 && a != -1) {\n      return [r, g, b, a]\n    }\n  }\n}\n\nfunction array(arr) {\n  if (Array.isArray(arr) && (arr.length == 3 || arr.length == 4)) {\n    var r = getnum(arr[0],   true)\n    var g = getnum(arr[1],   true)\n    var b = getnum(arr[2],   true)\n    var a = getnum(arr[3] != undefined ? arr[3] : 255, true)\n    if (r != -1 && g != -1 && b != -1 && a != -1) {\n      return [r, g, b, a]\n    }\n  }\n}\n\nfunction number(num) {\n  if (typeof num == 'number' && Math.floor(num) == num && num <= 4294967295 && num >= 0) {\n    var a = num >> 24 & 255\n    var r = num >> 16 & 255\n    var g = num >> 8  & 255\n    var b = num & 255\n    return [r, g, b, a]\n  }\n}\n\nfunction rgb(str) {\n  if (str.substr(0, 4) == 'rgb(') {\n    str = str.match(/^rgb\\(([^)]+)\\)/)[1]\n    var t = str.split(/ *, */).map(Number)\n    var r = getnum(t[0], true)\n    var g = getnum(t[1], true)\n    var b = getnum(t[2], true)\n    if (r != -1 && g != -1 && b != -1) {\n      return [r, g, b, 255]\n    }\n  }\n}\n\nfunction rgba(str) {\n  if (str.substr(0, 5) == 'rgba(') {\n    str = str.match(/^rgba\\(([^)]+)\\)/)[1]\n    var t = str.split(/ *, */).map(Number)\n    var r = getnum(t[0], true)\n    var g = getnum(t[1], true)\n    var b = getnum(t[2], true)\n    var a = getnum(t[3] * 255)\n    if (r != -1 && g != -1 && b != -1 && a != -1) {\n      return [r, g, b, a]\n    }\n  }\n}\n","'use strict';\nvar hex = require('rgba-convert').hex;\nvar _defaultPrimary = require('./styles/default.json');\nvar _defaultSecondary = require('./styles/white16.json');\n\nvar styleFormat = [\n  'Name',\n  'BorderStyle', // e.g. 1\n  'Shadow', // eg 0 (binary?)\n  'AlphaLevel', // 0\n  'Encoding', // 0\n  'MarginL', // eg 30\n  'MarginR', // eg 30\n  'MarginV', // eg. 10\n  'Fontname', // e.g. Tahoma\n  'PrimaryColour', // e.g. 16777215\n  'SecondaryColour',\n  'TertiaryColour',\n  'BackColour',\n  'Alignment', // eg 2\n  'Fontsize', // int e.g. 24\n  'Bold', // binary 1/0\n  'Italic', // binary 1/0\n  'Outline', // binary 1/0\n];\n\n// TODO, switch to other color scheme\nfunction getSsaColor (rgbaColor) {\n  if(!rgbaColor) {\n    rgbaColor = '';\n  }\n  var convertedRgba = hex(rgbaColor).toUpperCase().replace('#', '');\n  if(convertedRgba.length<5) {\n    convertedRgba = convertedRgba.split('').reduce(function(acc, char) {\n      return acc + char + char;\n    }, '');\n  }\n  if(convertedRgba.length === 6){\n    convertedRgba = convertedRgba + 'FF';\n  }\n  return '&H'+convertedRgba;\n}\n\nfunction processColor (value, defaults) {\n  return getSsaColor(typeof value === 'string' ? value : defaults);\n}\n\nfunction getFont (fontStr) {\n  switch (fontStr.toLowerCase()) {\n    case 'times new roman':\n      return 'Times New Roman';\n    default:\n      return 'Tahoma';\n  }\n}\n\nfunction getInteger(value, defaults){\n  return Number.isInteger(value) ? value : defaults;\n}\n\nfunction getAlignment(alignAttr) {\n  if (alignAttr) {\n    return 6;\n  }\n  return 2;\n}\n\nfunction getBorderStyle(outline, background) {\n  if (background) {\n    return 3;\n  } else if (outline) {\n    return 1;\n  }\n  return 0;\n}\n\nfunction getOutlineOrBackColor(outline, background, defaultColor) {\n  if(background) {\n    return processColor(background.color, defaultColor);\n  } else if (outline) {\n    return processColor(outline.color, defaultColor);\n  }\n}\n\nfunction buildStyle (styleName, obj) {\n  var defaults = {\n    font: 'Tahoma',\n    fontsize: 24,\n    color: 'rgba(0, 0, 0, 0.99)',\n    outline: {\n      color: 'rgba(255, 255, 255, 0.2)'\n    },\n    bold: false,\n    italic: false,\n    marginH: 30,\n    marginV: 10,\n  };\n\n  obj = Object.assign({}, defaults, obj);\n\n  var color = processColor(obj.color, defaults.color);\n  var marginH = getInteger(obj.marginH, defaults.marginH);\n\n  var valid = {\n    Name: styleName,\n    BorderStyle: getBorderStyle(obj.outline, obj.background),\n    Shadow: 0,\n    AlphaLevel: 0,\n    Encoding: 0,\n    MarginL: marginH,\n    MarginR: marginH,\n    MarginV: getInteger(obj.marginV, defaults.marginV),\n    Fontname: getFont( typeof obj.font === 'string' ? obj.font : defaults.font),\n    PrimaryColour: color,\n    SecondaryColour: color,\n    TertiaryColour: color,\n    BackColour: (obj.outline || obj.background) ?\n      getOutlineOrBackColor(obj.outline, obj.background, defaults.outlineColor) : processColor(),\n    Alignment: getAlignment(obj.topAlign),\n    Fontsize: getInteger(obj.fontsize, defaults.fontsize),\n    Bold: obj.bold ? 1 : 0,\n    Italic: obj.italic ? 1 : 0,\n    Outline: (obj.outline || obj.background) ? 1 : 0,\n  };\n\n  var style = styleFormat.reduce(function (acc, val, i) {\n    return acc + valid[val] + ((i !== styleFormat.length - 1) ? ',': '');\n  }, '');\n\n  return 'Style: ' + style + '\\n';\n}\n\nfunction getFormat () {\n  return 'Format: ' + styleFormat.reduce( function (acc, val) {\n    return acc + ',' + val;\n  });\n}\n\nfunction buildStyleSection(primaryStyle, secondaryStyle) {\n  var primary = primaryStyle ? primaryStyle : _defaultPrimary;\n  var secondary = secondaryStyle ? secondaryStyle : _defaultSecondary;\n  return '[V4 Styles]\\n' +\n    getFormat() + '\\n' +\n    buildStyle('primary', primary) +\n    buildStyle('secondary', secondary);\n}\n\nmodule.exports = buildStyleSection;\n"],"sourceRoot":""}